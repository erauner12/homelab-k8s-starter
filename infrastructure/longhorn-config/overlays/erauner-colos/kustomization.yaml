apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: longhorn-system

# Longhorn is installed by Talos bootstrap (or helm/operator outside this repo).
# This overlay only manages day-2 settings and avoids ingress/domain resources.
resources:
  - ../../base
  - default-replica-count.yaml
  - replica-auto-balance.yaml
  - replica-auto-balance-threshold.yaml
  - orphan-auto-deletion.yaml

generatorOptions:
  disableNameSuffixHash: true

patches:
  - path: remove-servicemonitor.yaml
