apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # AppProjects
  - apps-runtime.yaml
  - automation.yaml
  - devops.yaml
  - mcp.yaml
  - observability.yaml
  - security.yaml

  # Applications
  - autodoist.yaml
  - athens.yaml
  - backstage.yaml
  - coder.yaml
  - gatus.yaml
  - homelab-testapp.yaml
  - homelab-testapp2.yaml
  - homelab-testapp3.yaml
  - homepage-helm.yaml
  - immich.yaml
  - jenkins.yaml
  - karakeep-kustomize.yaml
  - karakeep-sync.yaml
  - manifest-service.yaml
  - krr.yaml
  - media-stack.yaml
  - mergeable.yaml
  - mkdocs.yaml
  - n8n.yaml
  - neutral-ops.yaml
  - nexus.yaml
  - oncall.yaml
  - seaweedfs.yaml
  - openclaw.yaml
  - tasktrove.yaml
  # - plane.yaml  # Disabled - not ready for fresh cluster bootstrap
  - renovate.yaml
  - toolbridge-api.yaml
  - toolbridge-mcp.yaml
  - toolbridge-web.yaml
  - unpoller.yaml
  - valheim.yaml
  - vikunja.yaml
  - windmill.yaml
  - robusta.yaml

# Apply standard ignore patterns to all Applications
# Note: argocd-app-sync-ops removed - each app defines its own syncPolicy
components:
  - ../../kustomize/components/argocd-app-ignore-common
